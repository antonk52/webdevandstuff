<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WP-CLI with MAMP on OS X</title>
    <meta name="description" content="WP-CLI with MAMP <code>error establishing connection to the database fix</code>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.6.1/github-markdown.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
            box-sizing: border-box;
            margin: 0;
        }

        .markdown-body {
            min-width: 200px;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px;
        }

        @media (prefers-color-scheme: dark) {
            body {
                background-color: #0d1117;
            }
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --fgColor-default: #e6edf3;
            }
        }
        @media (prefers-color-scheme: light) {
            :root {
                --fgColor-default: #1f2328;
            }
        }

        header {
            display: flex;
            gap: 24px;
            border-bottom: 1px solid #e1e4e8;
            padding: 16px 24px;
        }
        header a {
            color: var(--fgColor-default);
        }
        .markdown-body h1 > a,
        .markdown-body h2 > a,
        .markdown-body h3 > a,
        .markdown-body h4 > a,
        .markdown-body h5 > a,
        .markdown-body h6 > a {
            color: var(--fgColor-default);
            text-decoration: none;
        }
    </style>
    
</head>

<body>
    <header>
        <a href="/webdevandstuff">Web dev and stuff</a>
        <a href="https://github.com/antonk52" target="_blank">GitHub</a>
        <a href="https://twitter.com/antonk52" target="_blank">Twitter</a>
    </header>

    <article class="markdown-body">
        <h1>WP-CLI with MAMP on OS X</h1>
        
        <h2 id="wp-cli"><a href="#wp-cli">wp-cli</a></h2>
<p>You heard of WP-CLI and decided that it can really help you to speed up your development process, but once you install it on your mac and start performing cli tricks you keep bumping into <code>Error establishing a database connection</code></p>
<p>The reason this happens is wp-cli is not making good friends with MAMP out of the box. Fortunately this is easy to fix. To do so cd into your home directory and add the following to your <code>.bashrc</code> file. If the file does not exists feel free to create one.</p>
<h2 id="this-goes-in-bashrc-file"><a href="#this-goes-in-bashrc-file">This goes in .bashrc file</a></h2>
<pre># FIX PHP MAMP for WP-CLI
export PATH=/Applications/MAMP/bin/php/php5.6.10/bin:$PATH
export PATH=$PATH:/Applications/MAMP/Library/bin/</pre>
<p>Please take note that you might want to change the php version depending on which you are currently using. Because the path indicates on the version you are running locally. You can check it in the terminal using <code>php -v</code> or in mamp preferences, PHP tab</p>
<img class="aligncenter size-medium wp-image-39" src="http://localhost/wp-content/uploads/2016/05/Screen-Shot-2016-05-29-at-09.39.31.png" alt="mamp preferences" height="250" />

<p>Finally you can start using the command line toolÂ to its fullest potential.</p>

    </article>
</body>
</html>
