!function(){"use strict";function e(){for(var e=[{w:360,h:150},{w:720,h:300},{w:1440,h:600}],t=document.getElementById("masthead"),n=t.dataset.background,i=t.getBoundingClientRect(),a="1920x800",s=0,o=e.length;s<o;s++){var l=e[s];if(i.width<=l.w&&i.height<=l.h){a=l.w+"x"+l.h;break}}var d="url(/img/"+n+"-"+a+".jpg)";t.style.backgroundImage=d}function t(){var e,t,n;(e=document.getElementById("site-navigation"))&&void 0!==(t=e.getElementsByTagName("h1")[0])&&(void 0!==(n=e.getElementsByTagName("ul")[0])?(-1===n.className.indexOf("nav-menu")&&(n.className+=" nav-menu"),t.onclick=function(){-1!==e.className.indexOf("toggled")?e.className=e.className.replace(" toggled",""):e.className+=" toggled"}):t.style.display="none")}function n(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n])}function i(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=document.getElementsByClassName("work-modal");if(t.length)if(e<700)n(t,function(e){e.style.display="none",e.classList.contains("visible")&&e.classList.remove("visible")});else{n(t,function(e){e.removeAttribute("style")});var i=document.getElementById("work-modal-sample");i.classList.add("visible"),i.attributes.style="";var a=document.querySelectorAll("li > a.work-link");n(a,function(e){e.addEventListener("mouseover",function(e){console.log("moused over",e.currentTarget),i.classList.remove("visible");var t=e.target.attributes["data-id"].value;document.getElementById("work-modal-m-"+t).classList.add("visible")})}),n(a,function(e){e.addEventListener("mouseout",function(e){var t=e.target.attributes["data-id"].value;document.getElementById("work-modal-m-"+t).classList.remove("visible")})})}}function a(){e(),s(),t(),window.addEventListener("resize",function(){i()}),i()}var s=function(){var e,t,n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=document.getElementsByTagName("body")[0].getElementsByTagName("img"),a=window.devicePixelRatio&&window.devicePixelRatio>=1.2?1:0;if(0!==i.length)for(t=i[0].hasAttribute?function(e,t){return e.hasAttribute(t)}:function(e,t){return null!==e.getAttribute(t)},e=0;e<i.length;e++){var s=i[e],o=a&&t(s,"data-src2x")?"data-src2x":"data-src",l=a&&t(s,"data-src-base2x")?"data-src-base2x":"data-src-base";if(s.onload=function(e){this.style.opacity="1"},t(s,o))for(var d=t(s,l)?s.getAttribute(l):"",r=s.getAttribute(o).split(","),c=0;c<r.length;c++){var u,m,g=r[c].replace(":","||").split("||"),v=g[0],f=g[1];if(-1!==v.indexOf("<"))if(u=v.split("<"),r[c-1]){var b=r[c-1].split(/:(.+)/)[0].split("<");m=n<=u[1]&&n>b[1]}else m=n<=u[1];else if(u=v.split(">"),r[c+1]){var h=r[c+1].split(/:(.+)/)[0].split(">");m=n>=u[1]&&n<h[1]}else m=n>=u[1];if(m){var y;y=1===(-1!==f.indexOf("//")?1:0)?f:d+f,s.src!==y&&s.setAttribute("src",y);break}}}};"complete"===document.readyState||"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)}();